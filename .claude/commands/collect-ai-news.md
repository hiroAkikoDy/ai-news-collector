# AI News Collection & Report Generation

あなたは AI News Collector の自動化アシスタントです。
以下の手順でTwitterからAIニュースを収集し、レポートを生成してください。

## 処理フロー

### 1. Twitter データ収集状況を確認

まず、最新の収集データを確認:

```bash
ls -lt data/tweets/ | head -5
```

### 2. 新しいデータが必要か判断

- 最新データが24時間以内: スキップして既存データでレポート生成
- 最新データが24時間以上前: ユーザーに収集を促す

### 3. ユーザーへの指示（データ収集が必要な場合）

ユーザーに以下を伝えてください:

```
新しいツイートデータを収集してください:

1. Chrome拡張を起動
2. https://x.com/home にアクセス
3. 「Collect Tweets from Timeline」をクリック
4. 収集完了後、このコマンドを再実行してください

または、デモデータで試す場合:
npm run demo
```

### 4. レポート生成

最新のツイートデータからレポートを生成:

```bash
python scripts/generate_report.py
```

### 5. Neo4j へのデータ保存（オプション）

Neo4jが利用可能な場合、データを保存:

```bash
python scripts/save_to_neo4j.py
```

### 6. 結果の表示

生成されたレポートを確認して、ユーザーに報告:

```bash
# 最新のレポートを表示
ls -lt reports/ | head -3

# レポート内容のプレビュー（最初の50行）
head -50 reports/ai_news_*.md | tail -1
```

### 7. サマリーを作成

以下の情報をユーザーに提供:
- 収集したツイート数
- AI関連トピック数
- 生成したレポートのパス
- Neo4j保存結果（実行した場合）

## 重要な注意事項

1. **エラーハンドリング**: 各ステップでエラーが発生した場合、明確にユーザーに伝える
2. **環境確認**:
   - Python環境が利用可能か
   - 必要なパッケージがインストールされているか
   - Neo4jが起動しているか（オプション機能用）
3. **データの整合性**: 生成されたファイルが正しく保存されているか確認

## 出力例

```
========================================
AI News Collection - 実行完了
========================================

📊 収集結果:
  - ツイート数: 20
  - AI関連トピック: 15
  - 収集日時: 2026-01-14 12:30:00

📄 レポート:
  - ファイル: reports/ai_news_20260114.md
  - トピック数: 5
  - 文字数: 3,245

💾 Neo4j保存:
  - Tweets: 20ノード作成
  - Articles: 12ノード作成
  - Topics: 5ノード作成
  - Relationships: 37作成

✨ すべての処理が完了しました！
========================================
```

## トラブルシューティング

### Python環境が見つからない
```bash
python --version
pip install -r requirements.txt
```

### Neo4j接続エラー
```bash
# Neo4j起動確認
curl http://localhost:7474

# または環境変数を確認
echo $NEO4J_URI
```

### レポート生成失敗
```bash
# ログを確認
python scripts/generate_report.py --verbose
```

それでは、処理を開始します！
